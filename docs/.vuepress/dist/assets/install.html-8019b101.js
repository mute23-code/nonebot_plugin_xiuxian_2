import{_ as t,V as i,W as p,X as n,Y as s,Z as o,$ as a,G as l}from"./framework-00ee1037.js";const c={},u=a(`<h2 id="下载" tabindex="-1"><a class="header-anchor" href="#下载" aria-hidden="true">#</a> 下载</h2><ul><li>使用 pip</li></ul><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>pip install nonebot_plugin_xiuxian_2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用 nb-cli</li></ul><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>nb plugin install nonebot_plugin_xiuxian_2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用 git</li></ul><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>git clone https://github.com/QingMuCat/nonebot_plugin_xiuxian_2.git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用镜像：<code>git clone https://ghproxy.com/https://github.com/QingMuCat/nonebot_plugin_xiuxian_2</code></p><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><h3 id="资源文件" tabindex="-1"><a class="header-anchor" href="#资源文件" aria-hidden="true">#</a> 资源文件</h3>`,10),d=n("li",null,[s("配置文件一般在 "),n("code",null,"data/xiuxian"),s(" 文件夹下，初次启动修仙插件时会自动生成一部分。修改配置只需修改json文件即可，"),n("strong",null,"任何修改都需要重启bot")],-1),r={href:"https://cowtransfer.com/s/82b90d2b879d43",target:"_blank",rel:"noopener noreferrer"},k=n("code",null,"data/xiuxian",-1),v=a(`<h3 id="分控配置-可选" tabindex="-1"><a class="header-anchor" href="#分控配置-可选" aria-hidden="true">#</a> 分控配置（可选）</h3><p>若您有多个QQ机器人链接的需求，可以在 <code>xiuxian_config.py</code> 配置</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>self<span class="token punctuation">.</span>put_bot <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> 
self<span class="token punctuation">.</span>main_bo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
self<span class="token punctuation">.</span>shield_group <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
self<span class="token punctuation">.</span>layout_bot_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参数：</p><ul><li><code>self.put_bot</code>： <ul><li>默认为空</li><li>接收消息QQ，主QQ，插件将只处理此QQ的消息，不配置将默认设置第一个链接的QQ为主QQ</li></ul></li><li><code>self.main_bo</code>： <ul><li>默认为空</li><li>负责发送消息的QQ，调用 <code>lay_out.py</code> 下 range_bot函数 的情况下需要填写</li></ul></li><li><code>self.shield_group</code>： <ul><li>默认为空</li><li>参数：群号</li><li>屏蔽的群聊</li></ul></li><li><code>self.layout_bot_dict</code>： <ul><li>默认为空</li><li>参数：{群 :bot}。其中 bot 类型为列表或字符串</li><li>QQ所负责的群聊</li><li>例子：</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>    self<span class="token punctuation">.</span>layout_bot_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>
        <span class="token string">&quot;111&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>               <span class="token comment"># 由QQ号为xxx的机器人单独负责111群聊</span>
        <span class="token string">&quot;222&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;yyy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zzz&quot;</span><span class="token punctuation">]</span>       <span class="token comment"># 由QQ号为yyy和zzz的机器人同时负责222群聊</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="文件夹配置-可选" tabindex="-1"><a class="header-anchor" href="#文件夹配置-可选" aria-hidden="true">#</a> 文件夹配置（可选）</h3><p><s>以下皆为适合强迫症者看的废话</s></p><p>如果您是将 修仙插件 下载到本地的，相信肯定不会以 <code>nonebot_plugin_xiuxian_2</code> 命名插件，这时为了避免报错，您需要将高光部分修改为自己重命名后的名字</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">if</span> get_plugin_by_module_name<span class="token punctuation">(</span><span class="token string">&quot;nonebot_plugin_xiuxian_2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;推荐直接加载 nonebot_plugin_xiuxian_2 仓库文件夹&quot;</span><span class="token punctuation">)</span>
    load_all_plugins<span class="token punctuation">(</span>
        <span class="token punctuation">[</span>
            <span class="token string-interpolation"><span class="token string">f&quot;nonebot_plugin_xiuxian_2.</span><span class="token interpolation"><span class="token punctuation">{</span>module<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            <span class="token keyword">for</span> module <span class="token keyword">in</span> iter_modules<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>Path<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">.</span>parent<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> module<span class="token punctuation">.</span>ispkg
            <span class="token keyword">and</span> <span class="token punctuation">(</span>
                <span class="token punctuation">(</span>name <span class="token operator">:=</span> module<span class="token punctuation">.</span>name<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;meta&quot;</span>
                <span class="token keyword">or</span> name <span class="token keyword">not</span> <span class="token keyword">in</span> _config<span class="token punctuation">.</span>disabled_plugins
            <span class="token punctuation">)</span>
            <span class="token comment"># module.name[:11] == xiuxian_</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
</code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="hint-container details"><summary>再详细点？</summary><p>如果，你是用 <code>git</code> 将修仙下载至本地，我们的目录结构是这样的：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>📂 plugins
└── 📂 nonebot_plugin_xiuxian_2
    └── 📜 __init__.py
    └── ...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><s>为了好看</s> ，但是我们通常会将原名修改为自己喜欢的名字，这时目录结构就变成了这样：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>📂 plugins
└── 📂 xiuxian
    └── 📜 __init__.py
    └── ...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>为了避免报错，您需要将上面代码的高光部分修改为自己重命名后的名字，即：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">if</span> get_plugin_by_module_name<span class="token punctuation">(</span><span class="token string">&quot;xiuxian&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;推荐直接加载 nonebot_plugin_xiuxian_2 仓库文件夹&quot;</span><span class="token punctuation">)</span>
    load_all_plugins<span class="token punctuation">(</span>
        <span class="token punctuation">[</span>
            <span class="token string-interpolation"><span class="token string">f&quot;xiuxian.</span><span class="token interpolation"><span class="token punctuation">{</span>module<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            <span class="token keyword">for</span> module <span class="token keyword">in</span> iter_modules<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>Path<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">.</span>parent<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> module<span class="token punctuation">.</span>ispkg
            <span class="token keyword">and</span> <span class="token punctuation">(</span>
                <span class="token punctuation">(</span>name <span class="token operator">:=</span> module<span class="token punctuation">.</span>name<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;meta&quot;</span>
                <span class="token keyword">or</span> name <span class="token keyword">not</span> <span class="token keyword">in</span> _config<span class="token punctuation">.</span>disabled_plugins
            <span class="token punctuation">)</span>
            <span class="token comment"># module.name[:11] == xiuxian_</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>`,10);function m(b,_){const e=l("ExternalLinkIcon");return i(),p("div",null,[u,n("ol",null,[d,n("li",null,[s("除此之外，您还需要"),n("a",r,[s("下载卡图"),o(e)]),s("，将解压后的卡图放置于 "),k,s(" 目录下")])]),v])}const h=t(c,[["render",m],["__file","install.html.vue"]]);export{h as default};
